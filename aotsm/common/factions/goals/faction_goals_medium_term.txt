#category = short_term medium_term or long_term
# ROOT is faction leader, FROM is faction member who opens UI and views goals, completed/cancel/complete_effect do not have FROM scopes


######################################################################

###  ##   ##  ### ###  ##  #  #      ## ###  ###  ##  ### ### ###  ##  
#   #  # #  #  #   #  #  # ## #     #   #  # #   #  #  #  #    #  #  # 
##  #### #     #   #  #  # # ##      #  ###  ##  #     #  ##   #  #    
#   #  # #  #  #   #  #  # #  #       # #    #   #  #  #  #    #  #  # 
#   #  #  ##   #  ###  ##  #  #     ##  #    ###  ##  ### #   ###  ##  

######################################################################

#LONDON_PACT

faction_goal_rule_stabilize_the_confederation = {
	name = rule_stabilize_the_confederation
	description = rule_stabilize_the_confederation_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = CBI
				is_in_faction_with = CBI
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = CBI
				is_in_faction_with = CBI
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						original_tag = CBI
					}
				}
				name = FACTION_NAME
			}
			buildings = { industrial_complex arms_factory dockyard }
			size > 99
			
		}
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 50
		add_faction_initiative = 1
		every_faction_member = {
			add_political_power = 100
			add_stability = 0.05
			add_war_support = 0.05
		}
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = CBI
		}
	}
}

#RUSSIAN GOALS

faction_goal_rule_expand_influence_in_central_asia = {
	name = rule_expand_influence_in_central_asia
	description = rule_expand_influence_in_central_asia_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}

		}
	}

	completed = { #тут прописаны условия выполнения
		GLA = { is_in_faction_with = RUS }
		MOL = { is_in_faction_with = RUS }

	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		add_faction_initiative = 1
		every_faction_member = {
			limit = {
				original_tag = RUS
				original_tag = GLA
				original_tag = MOL
			}
			add_political_power = 100
			add_stability = 0.05
		}
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = RUS
		}
	}
}

faction_goal_rule_expand_influence_on_balkans = {
	name = rule_expand_influence_on_balkans
	description = rule_expand_influence_on_balkans_desc
	category = medium_term
	group = FOCUS_FILTER_CONSOLIDATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}

		}
	}

	completed = { #тут прописаны условия выполнения
		OR = {
			RUS = { controls_central_asia = yes }
			AND = {
				KAZ = { is_in_faction_with = RUS }
				BUK = { is_in_faction_with = RUS }
				HIV = { is_in_faction_with = RUS }
			}
		}

	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 50
		add_faction_initiative = 1
		RUS = {
			add_political_power = 100
		}
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = RUS
		}
	}
}

faction_goal_rule_deal_with_the_polish_problem = {
	name = rule_deal_with_the_polish_problem
	description = rule_deal_with_the_polish_problem_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}

		}
	}

	completed = { #тут прописаны условия выполнения
		OR = {
			RUS = { controls_central_asia = yes }
			AND = {
				KAZ = { is_in_faction_with = RUS }
				BUK = { is_in_faction_with = RUS }
				HIV = { is_in_faction_with = RUS }
			}
		}

	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		add_faction_initiative = 1
		RUS = {
			add_political_power = 100
		}
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = RUS
		}
	}
}

faction_goal_rule_fareast_expansion = {
	name = rule_fareast_expansion 
	description = rule_fareast_expansion_desc
	category = medium_term
	group = FOCUS_FILTER_POLITICAL_CHARACTER

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = RUS
				is_in_faction_with = RUS
			}

		}
	}

	completed = { #тут прописаны условия выполнения
		RUS = {
			NOT = {
				has_war_with = QIN
			}
			OR = {
				AND = {
					controls_state = 560
					owns_state = 560
					controls_state = 657
					owns_state = 657
				}
				AND = {
					controls_state = 408
					owns_state = 408
					controls_state = 409
					owns_state = 409
					controls_state = 560
					owns_state = 560
					controls_state = 657
					owns_state = 657
				}
				AND = {
					controls_state = 408
					owns_state = 408
					controls_state = 409
					owns_state = 409
					controls_state = 560
					owns_state = 560
					controls_state = 657
					owns_state = 657
					controls_state = 714
					owns_state = 714
					controls_state = 717
					owns_state = 717
					controls_state = 761
					owns_state = 761
				}
			}
		}
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 150
		add_faction_initiative = 1
		RUS = {
			add_stability = 0.05
			add_war_support = 0.05
		}
	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = RUS
		}
	}
}

#PRUSSIAN

faction_goal_high_seas_fleet = {
	name = high_seas_fleet_goal_name
	description = high_seas_fleet_goal_desc
	group = FOCUS_FILTER_NAVY_XP
	category = medium_term
	allowed = {
	}
	visible = {
		FROM = {
			OR = {
				original_tag = PRU
				AND = {
					any_allied_country = {
						original_tag = PRU
					}
					num_of_naval_factories > 0
				}
			}
		}
	}
	completed = {
		has_war_with_major = yes 
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = capital_ship
			size > 19
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
		every_collection_element = {
			input = {
				input = game:scope
				operators =  { 
					faction_members
					limit = {
						num_of_naval_factories > 0
					}
				}
				name = ALL_FACTION_MEMBERS
			}
			navy_experience = 50
			add_tech_bonus = {
				name = high_seas_fleet_tech_bonus
				bonus = 0.5
				uses = 2
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # If they have a bunch of naval factories, go for it
			num_of_naval_factories > 29
		}
	}
}


###########################################################

 ##  ### #  # ### ###  ###  ##       ##   ##   ##  #    ## 
#    #   ## # #   #  #  #  #  #     #    #  # #  # #   #   
# ## ##  # ## ##  ###   #  #        # ## #  # #### #    #  
#  # #   #  # #   #  #  #  #  #     #  # #  # #  # #     # 
 ##  ### #  # ### #  # ###  ##       ##   ##  #  # ### ##  

###########################################################


### ANNEXATION

faction_goal_gain_full_control_over_alsace_and_lorraine = {
	name = gain_full_control_over_alsace_and_lorraine
	description = gain_full_control_over_alsace_and_lorraine_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = FRR
				original_tag = PRU
				is_in_faction_with = FRR
				is_in_faction_with = PRU
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = FRR
				original_tag = PRU
				is_in_faction_with = FRR
				is_in_faction_with = PRU
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		28 = { is_controlled_by_ROOT_or_ally = yes }
		828 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 28
					controls_state = 828
				}
			}
			add_faction_initiative = 1
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = PRU
		}
		modifier = {
			add = 5 #
			original_tag = FRR
		}
	}
}

faction_goal_gain_full_control_over_french_alps = {
	name = gain_full_control_over_french_alps
	description = gain_full_control_over_french_alps_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = BYZ
				original_tag = SAR
				is_in_faction_with = BYZ
				is_in_faction_with = SAR
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = BYZ
				original_tag = SAR
				is_in_faction_with = BYZ
				is_in_faction_with = SAR
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		21 = { is_controlled_by_ROOT_or_ally = yes }
		32 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 21
					controls_state = 32
				}
			}
			add_faction_initiative = 1
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = BYZ
		}
		modifier = {
			add = 5 #
			original_tag = SAR
		}
	}
}

faction_goal_gain_control_over_algeria = {
	name = gain_control_over_algeria
	description = gain_control_over_algeria_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		459 = { is_controlled_by_ROOT_or_ally = yes }
		460 = {	is_controlled_by_ROOT_or_ally = yes }
		513 = {	is_controlled_by_ROOT_or_ally = yes }
		514 = {	is_controlled_by_ROOT_or_ally = yes }
		809 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 459
					controls_state = 460
					controls_state = 513
					controls_state = 514
					controls_state = 809
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 459
					state = 460
					state = 513
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = FRR
		}
	}
}

faction_goal_gain_control_over_tunis = {
	name = gain_control_over_tunis
	description = gain_control_over_tunis_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		458 = { is_controlled_by_ROOT_or_ally = yes }
		665 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 458
					controls_state = 665
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 458
					state = 665
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = FRR
		}
	}
}

faction_goal_gain_control_over_morocco = {
	name = gain_control_over_morocco
	description = gain_control_over_morocco_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = FRR
				is_in_faction_with = FRR
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		290 = { is_controlled_by_ROOT_or_ally = yes }
		461 = {	is_controlled_by_ROOT_or_ally = yes }
		462 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 290
					controls_state = 461
					controls_state = 462
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 290
					state = 462
					state = 462
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = FRR
		}
	}
}

faction_goal_gain_control_over_nort_east_africa = {
	name = gain_control_over_nort_east_africa
	description = gain_control_over_nort_east_africa_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = BYZ
				original_tag = CPT
				is_in_faction_with = BYZ
				is_in_faction_with = CPT
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = BYZ
				original_tag = CPT
				is_in_faction_with = BYZ
				is_in_faction_with = CPT
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		448 = { is_controlled_by_ROOT_or_ally = yes }
		449 = {	is_controlled_by_ROOT_or_ally = yes }
		450 = {	is_controlled_by_ROOT_or_ally = yes }
		451 = {	is_controlled_by_ROOT_or_ally = yes }
		661 = {	is_controlled_by_ROOT_or_ally = yes }
		662 = {	is_controlled_by_ROOT_or_ally = yes }
		663 = {	is_controlled_by_ROOT_or_ally = yes }
		552 = {	is_controlled_by_ROOT_or_ally = yes }
		273 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 448
					controls_state = 449
					controls_state = 450
					controls_state = 451
					controls_state = 661
					controls_state = 662
					controls_state = 663
					controls_state = 552
					controls_state = 273
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 448
					state = 449
					state = 450
					state = 451
					state = 661
					state = 662
					state = 663
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = BYZ
		}
		modifier = {
			add = 5 #
			original_tag = CPT
		}
	}
}

faction_goal_back_control_over_tavrida = {
	name = back_control_over_tavrida
	description = back_control_over_tavrida_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = BYZ
				is_in_faction_with = BYZ
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = BYZ
				is_in_faction_with = BYZ
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		137 = { is_controlled_by_ROOT_or_ally = yes }
		196 = {	is_controlled_by_ROOT_or_ally = yes }
		200 = {	is_controlled_by_ROOT_or_ally = yes }
		218 = {	is_controlled_by_ROOT_or_ally = yes }
		227 = {	is_controlled_by_ROOT_or_ally = yes }
		234 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 137
					controls_state = 196
					controls_state = 200
					controls_state = 218
					controls_state = 227
					controls_state = 234
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 137
					state = 196
					state = 200
					state = 218
					state = 227
					state = 234
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = BYZ
		}
	}
}

faction_goal_dominance_in_central_africa = {
	name = dominance_in_central_africa
	description = dominance_in_central_africa_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION

	visible = { #Условие видимости
		FROM = {
			OR = {
				original_tag = PRU
				is_in_faction_with = PRU
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				original_tag = PRU
				is_in_faction_with = PRU
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		295 = { is_controlled_by_ROOT_or_ally = yes }
		538 = {	is_controlled_by_ROOT_or_ally = yes }
		539 = {	is_controlled_by_ROOT_or_ally = yes }
		660 = {	is_controlled_by_ROOT_or_ally = yes }
		718 = {	is_controlled_by_ROOT_or_ally = yes }
		772 = {	is_controlled_by_ROOT_or_ally = yes }
		773 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 295
					controls_state = 538
					controls_state = 539
					controls_state = 660
					controls_state = 718
					controls_state = 772
					controls_state = 773
				}
			}
			add_faction_initiative = 1
		}		
		every_state = {
			limit = {
				OR = {
					state = 295
					state = 538
					state = 539
					state = 660
					state = 718
					state = 772
					state = 773
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}

	}

	ai_will_do = {
		base = 0
		modifier = {
			add = 5 #
			original_tag = PRU
		}
	}
}

### Faction Growth

faction_goal_a_large_faction = {
	name = a_large_faction_goal_name
	description = a_large_faction_goal_desc
	category = medium_term
	group = FOCUS_FILTER_POLITICAL_CHARACTER
	visible = {
		num_faction_members > 4
	}
	completed = {
		num_faction_members > 9
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
	}
	ai_will_do = {
		base = 1
	}
}

### Units/Deployment

faction_goal_marine_corps = {
	name = marine_corps_goal_name
	description = marine_corps_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit_category = category_marines
			size > 9
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_army_size = {
							size > 0
							unit_category = category_marines
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_1_AMPHIBIOUS
			}
			random_character = {
				tooltip = ONE_GENERAL	
				visible_when_empty = yes
				limit = {
					is_army_leader = yes
					is_field_marshal = no
					NOT = { has_trait = cavalry_officer }
					NOT = { has_trait = panzer_leader }
					NOT = { has_trait = invader }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = invader }
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = marine_corps_tech_bonus
				bonus = 0.5
				uses = 1
				category = marine_tech
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				is_coastal = yes
			}
		}
		modifier = {
			add = 2
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
		}
	}
}

faction_goal_submarine_force = {
	name = submarine_force_goal_name
	description = submarine_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = submarine
			size > 99
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_army_size = {
							size > 24
							type = submarine
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SUBMARINES
			}
			random_character = {
				tooltip = ONE_ADMIRAL	
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes 
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = seawolf }
			}
			add_mastery = {
				amount = 100
				track = submarines
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = submarine_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with a less dockyard capacity should probably try to build subs rather than contest the high seas
			num_of_naval_factories > 10
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 25
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 50
		}
	}
}

faction_goal_convoy_escort_force = {
	name = convoy_escort_force_goal_name
	description = convoy_escort_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = screen_ship
			size > 99
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_army_size = {
							size > 24
							type = screen_ship
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SCREENING_SHIPS
			}
			random_character = {
				tooltip = ONE_ADMIRAL	
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes
					NOT = { has_trait = fleet_protector }
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = fleet_protector }
			}
			add_mastery = {
				amount = 100
				track = screens
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = convoy_escort_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with threatened convoys should care more
			convoy_threat > 0.2
		}
		modifier = {
			add = 8 # Powers with very threatened convoys should care -a lot-
			convoy_threat > 0.5
		}
	}
}

faction_goal_air_superiority = {
	name = air_superiority_goal_name
	description = air_superiority_goal_desc
	category = medium_term
	group = FOCUS_FILTER_AIR_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = fighter
			size > 499
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		every_collection_element = {
			input = {
				input = game:scope
				operators = { 
					faction_members 
					limit = {
						has_army_size = {
							size > 99
							type = fighter
						}
					}
				}
				#name = ALL_FACTION_MEMBERS_WITH_250_FIGHTERS
			}
			air_experience = 25
			add_mastery = {
				amount = 50
				track = fighter_aircraft
			}
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = air_superiority_tech_bonus
				bonus = 0.25
				uses = 1
				category = air_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with few military factories should probably not care about expensive planes
			num_of_military_factories > 29
		}
		modifier = {
			add = 1 # Factions with decent number of military factories should probably start caring a lot about contesting air superiority - because they can
			count_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION_NAME
				}
				buildings = { arms_factory }
				size > 99
			}
		}
	}
}

### Industry

faction_goal_industrial_expansion = {
	name = industrial_expansion_goal_name
	description = industrial_expansion_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_CIVS
			visible_when_empty = yes 
			limit = {
				num_of_civilian_factories > 49
			}
			add_tech_bonus = {
				name = industrial_expansion_tech_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # Prioritize more earlier on - more pay-off
			date < 1938.1.1
		}
	}
}


faction_goal_industrial_research = {
	name = industrial_research_goal_name
	description = industrial_research_goal_desc
	category = medium_term
	group = FOCUS_FILTER_RESEARCH
	visible = {
		any_allied_country = {
			NOT = { has_tech = construction4 }
		}
	}
	completed = {
		ROOT = {
			has_tech = construction4
		}
		all_allied_country = {
			has_tech = construction4
		}

		collection_size = {
				input = {
					input = game:scope
					operators =  { 
						faction_members 
					}
				}
				value > 4
			}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes 
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # Prio for smaller factions (Easier to get everyone up then )
			collection_size = {
				input = {
					input = game:scope
					operators =  { 
						faction_members 
					}
				}
				value < 5
			}
		}
		modifier = {
			add = 1 # Prioritize during build up, but not too early
			date > 1938.1.1
			date < 1941.1.1
		}
	}
}

faction_goal_a_military_base = {
	name = a_military_base_goal_name
	description = a_military_base_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = generic_skip_one_line_tt
		every_faction_member = {
			tooltip = AT_LEAST_50_MILS
			visible_when_empty = yes 
			limit = {
				num_of_military_factories > 49
			}
			add_tech_bonus = {
				name = a_military_base_tech_bonus
				bonus = 0.5
				uses = 2
				category = excavation_tech
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			date > 1938.1.1
		}
		modifier = {
			add = 1
			is_major = yes
		}
	}
}

### War Waging

faction_goal_aggressive_defense = {
	name = aggressive_defense_goal_name
	description = aggressive_defense_goal_desc
	group = FOCUS_FILTER_WAR_SUPPORT
	category = medium_term
	visible = {
		FROM = { has_defensive_war = yes }
	}
	completed = {
		any_allied_country = {
			has_defensive_war = yes
		}
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						any_enemy_country = {
							has_offensive_war_with = ROOT
							casualties_inflicted_by = {
							    opponent = PREV
							    thousands > 250
							}
						}
					}
				}
				name = COLLECTION_CASUALTIES_INFLICTED_BY_FACTION_MEMBERS
			}
			value > 0
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS_INFLICTED_250K_CASUALTIES
		every_faction_member = {
			limit = {
				any_enemy_country = {
					has_offensive_war_with = ROOT
					casualties_inflicted_by = {
					    opponent = PREV
					    thousands > 250
					}
				}
			}
			add_faction_initiative = 1
		}
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}
	}
	ai_will_do = {
		base = 1
	}
}


### Strategic Resources

faction_goal_controls_donbass_coal = {
	name = controls_donbass_coal 
	description = controls_donbass_coal_desc
	category = medium_term
	group = resources_to_market_icon

	visible = { #Условие видимости
		FROM = {
			OR = {
				NOT = { 
					original_tag = RUS 
					is_in_faction_with = RUS
				}
			}
		}
	}

	available = { #условие доступности
		FROM = {
			OR = {
				NOT = { 
					original_tag = RUS 
					is_in_faction_with = RUS
				}
			}

		}
	}

	completed = { #тут прописаны условия выполнения
		200 = { is_controlled_by_ROOT_or_ally = yes }
		221 = {	is_controlled_by_ROOT_or_ally = yes }
		227 = {	is_controlled_by_ROOT_or_ally = yes }
		228 = {	is_controlled_by_ROOT_or_ally = yes }	
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 200
					controls_state = 221
					controls_state = 227
					controls_state = 228
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 200
					state = 221
					state = 227
					state = 228
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}

	ai_will_do = {
		base = 1
		modifier = {
			add = 2 #
			ROOT = { has_war_with = RUS }
		}
	}
}

faction_goal_control_the_rur_coal_basin  = {
	name = control_the_rur_coal_basin 
	description = control_the_rur_coal_basin_desc
	category = medium_term
	group = resources_to_market_icon

	visible = { #Условие видимости
		FROM = {
			original_tag = PRU 
			is_in_faction_with = PRU
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 51
				value < 2000
			}
		}
	}

	available = { #условие доступности
		FROM = {
			original_tag = PRU 
			is_in_faction_with = PRU
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 51
				value < 2000
			}
		}
	}

	completed = { #тут прописаны условия выполнения
		51 = { is_controlled_by_ROOT_or_ally = yes }
		888 = {	is_controlled_by_ROOT_or_ally = yes }
	}

	complete_effect = { #тут прописано, что произойдет, когда цель выполнена
		add_faction_power_projection = 100
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 51
					controls_state = 888
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 51
					state = 888
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}

	ai_will_do = {
		base = 1
		modifier = {
			add = 3 #
			original_tag = PRU
		}
	}
}

# Guyanan Bauxite
faction_goal_control_guyanan_bauxite = {
	name = control_guyanan_bauxite_goal_name
	description = control_guyanan_bauxite_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = CBI
				is_in_faction_with = ENG
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 687
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		687 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = { 
			visible_when_empty = yes
			limit = {
				controls_state = 687
			}
			add_faction_initiative = 1
		}
		687 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			687 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on aluminium
			aluminium > 40
		}
		modifier = {
			add = 1 # If very low on aluminium
			aluminium > 10
		}
		modifier = {
			add = 3 # If entire alliance is low on aluminium they should be heavily incentivized to taking more
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }
						name = FACTION
				}
				resource = aluminium
				amount < 10
				extracted = no # (optional, default: no) checks extracted amount instead of country balance
			}
		}
	}
}

# Surinamese Bauxite
faction_goal_control_suriname_bauxite = {
	name = control_suriname_bauxite_goal_name
	description = control_suriname_bauxite_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = HOL
				is_in_faction_with = HOL
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 309
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		309 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_allied_country = { 
			visible_when_empty = yes
			limit = {
				controls_state = 309
			}
			add_faction_initiative = 1
		}
		309 = {
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			309 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on aluminium
			aluminium > 40
		}
		modifier = {
			add = 1 # If very low on aluminium
			aluminium > 10
		}
		modifier = {
			add = 3 # If entire alliance is low on aluminium they should be heavily incentivized to taking more
			has_resources_in_collection = {
				collection = {
						input = game:scope
						operators =  { faction_members }	
						name = FACTION
				}
				resource = aluminium
				amount < 10
				extracted = no # (optional, default: no) checks extracted amount instead of country balance
			}
		}
	}
}

# Lappland Metals
faction_goal_control_lappland_metals = {
	name = control_lappland_metals_goal_name
	description = control_lappland_metals_goal_desc
	category = medium_term
	group = resources_to_market_icon
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = SWE
				is_in_faction_with = SWE
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 918
				value < 2000
			}
		}
	}
	available = {
		
	}
	completed = {
		666 = { is_controlled_by_ROOT_or_ally = yes }
		918 = {	is_controlled_by_ROOT_or_ally = yes }	
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 666
					controls_state = 918
				}
			}
			add_faction_initiative = 1
		}
		every_state = {
			limit = {
				OR = {
					state = 666
					state = 918
				}
			}
			if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}	
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			918 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If low on resources
			OR = {
				tungsten < 40
				steel < 40
				chromium < 12
			}
		}
		modifier = {
			add = 1 # If very low on resources
			OR = {
				tungsten < 10
				steel < 10
				chromium < 5
			}
		}
		modifier = {
			add = 3 # If entire alliance is low on resources they should be heavily incentivized to taking more
			OR = {
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = tungsten
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = steel
					amount < 15
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
				has_resources_in_collection = {
					collection = {
							input = game:scope
							operators =  { faction_members }
							name = FACTION
					}
					resource = chromium
					amount < 8
					extracted = no # (optional, default: no) checks extracted amount instead of country balance
				}
			}
		}
	}
}

# Gibraltar
faction_goal_control_gibraltar = {
	name = control_gibraltar_goal_name
	description = control_gibraltar_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = CAS
				is_in_faction_with = CAS
				original_tag = GRA
				is_in_faction_with = GRA
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 118
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		118 = { is_controlled_by_ROOT_or_ally = yes }
		869 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 118
				controls_state = 869
			}
			add_faction_initiative = 1
		}
		118 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 4135
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 4135
				instant_build = yes
			}
		}
		869 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 9945
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 9945
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			118 = {
				controller = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
	}
}

# Malta
faction_goal_control_malta = {
	name = control_malta_goal_name
	description = control_malta_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = SYC
				is_in_faction_with = SYC
				original_tag = PAP
				is_in_faction_with = PAP
				original_tag = SAR
				is_in_faction_with = SAR
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 116
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		116 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 116
			}
			add_faction_initiative = 1
		}
		116 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			116 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = middle_east
								is_on_continent = africa
							}
						}
					}
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If GER or ITA prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = ITA
				original_tag = PRU
			}
		}
	}
}

# Crete
faction_goal_control_crete = {
	name = control_crete_goal_name
	description = control_crete_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BYZ
				is_in_faction_with = BYZ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 182
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		182 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 182
			}
			add_faction_initiative = 1
		}
		182 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = {
					all_provinces = yes
					limit_to_naval_base = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			182 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
					name = COLLECTION_FACTION_STATES_IN_NORTH_AMERICA
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = middle_east
								is_on_continent = africa
							}
						}
					}
					name = COLLECTION_FACTION_STATES_IN_EUROPE
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If GER or ITA prioritize this
			is_historical_focus_on = yes
			OR = {
				original_tag = ITA
				original_tag = PRU
			}
		}
	}
}

# Bosporus
faction_goal_control_bosporus = {
	name = control_bosporus_goal_name
	description = control_bosporus_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BYZ
				is_in_faction_with = BYZ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 797
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		797 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 797
			}
			add_faction_initiative = 1
		}
		797 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 9833
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 9833
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 11829
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 11829
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 13340
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 13340
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 13416
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 13416
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 13344
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 13344
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 13323
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 13323
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			797 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with SOV prioritize this
			any_enemy_country = {
				original_tag = RUS
			}
		}
		modifier = {
			add = 1 # If SOV
			original_tag = RUS
		}
	}
}

# Dardanelles
faction_goal_control_dardanelles = {
	name = control_dardanelles_goal_name
	description = control_dardanelles_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = BYZ
				is_in_faction_with = BYZ
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 871
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		871 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 871
			}
			add_faction_initiative = 1
		}
		871 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 9887
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 9887
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 849
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 849
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			340 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 1 # If at war with SOV prioritize this
			any_enemy_country = {
				original_tag = RUS
			}
		}
		modifier = {
			add = 1 # If SOV
			original_tag = RUS
		}
	}
}

# Suez Canal
faction_goal_control_suez_canal = {
	name = control_suez_canal_goal_name
	description = control_suez_canal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {
		
	}
	visible = {
		FROM = {
			NOT = {
				original_tag = CBI
				is_in_faction_with = ENG
				original_tag = EGY
				is_in_faction_with = EGY
			}
		}
		any_collection_element = {
			collection = {
				 input = game:scope
				 operators = { faction_members controlled_states }
				 name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 446
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		446 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = generic_skip_one_line_tt
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = { 
			visible_when_empty = yes
			limit = {
				controls_state = 446
			}
			add_faction_initiative = 1
		}
		446 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 12049
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 12049
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 12049
				instant_build = yes
			}
			add_building_construction = {
				type = naval_base
				level = 1
				instant_build = yes
				province = 4073
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 4073
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 4073
				instant_build = yes
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			446 = {
				owner = {
					has_war_with = ROOT
				}
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
		modifier = {
			add = 2 # If major naval power seek to control access
			has_navy_size = {
				size > 20
				type = capital_ship
			}
		}
		modifier = {
			add = 10 # If ENG
			original_tag = CBI
		}
	}
}


