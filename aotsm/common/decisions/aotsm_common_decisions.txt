
aotsm_build_aviabases_cat = {	

	build_air_base_region_219_st_1 = {
		
		icon = generic_air

		allowed = {

		}

		available = {
			owns_state = 219
			num_of_civilian_factories_available_for_projects > 2
		}

		visible = {
			219 = {
				NOT = {
					has_state_flag = GEN_build_air_base_stage_1
				}
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}

		fire_only_once = yes

		cost = 25

		ai_will_do = {
			factor = 100
		}
		
		modifier = {
			civilian_factory_use = 2
		}
		
		days_remove = 45
		
		complete_effect ={
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_1 START"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_1 END"
			219 = {			
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
				set_state_flag = GEN_build_air_base_stage_1
			}
		}
	
	}	

	build_air_base_region_219_st_2 = {
		
		icon = generic_air

		allowed = {

		}

		available = {
			owns_state = 219
			num_of_civilian_factories_available_for_projects > 3
		}

		visible = {
			219 = {
				has_state_flag = GEN_build_air_base_stage_1
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 100
		}
		
		modifier = {
			civilian_factory_use = 3
		}
		
		days_remove = 75
		
		complete_effect ={
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_2 START"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_2 END"
			219 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				set_state_flag = GEN_build_air_base_stage_2
				clr_state_flag = GEN_build_air_base_stage_1
			}
		}	
	}	

	build_air_base_region_219_st_3 = {
		
		icon = generic_air

		allowed = {

		}

		available = {
			owns_state = 219
			num_of_civilian_factories_available_for_projects > 5
		}

		visible = {
			219 = {
				has_state_flag = GEN_build_air_base_stage_2
				NOT = {
					OR = {
						has_state_flag = GEN_build_air_base_stage_1
						has_state_flag = GEN_build_air_base_stage_3
					}				
				}
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 219
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}

		fire_only_once = yes

		cost = 75

		ai_will_do = {
			factor = 100
		}
		
		modifier = {
			civilian_factory_use = 5
		}
		
		days_remove = 100
		
		complete_effect ={
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_3 START"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: decision build_air_base_region_219_st_3 END"
			219 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
				set_state_flag = GEN_build_air_base_stage_3
				clr_state_flag = GEN_build_air_base_stage_1
			}
		}	
	}
}