##WESTERNIZATION_SCRIPTS

clamp_westernisation_vars = {
    clamp_variable = {
		var = ROOT.aotsm_westernisation_points_num
		min = 0
		max = 100
	}
}

up_westernisation_period = {
    if = {
        limit = {
            has_idea = backward_nation
        }
        swap_ideas = {
            remove_idea = backward_nation
            add_idea = lagging_nation
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 2 }
		set_variable = { ROOT.westornisation_background_frame = 2 }
    }
    else_if = {
        limit = {
            has_idea = lagging_nation
        }
        swap_ideas = {
            remove_idea = lagging_nation
            add_idea = westernizing_nation
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 3 }
		set_variable = { ROOT.westornisation_background_frame = 3 }
    }
    else_if = {
        limit = {
            has_idea = westernizing_nation
        }
        swap_ideas = {
            remove_idea = westernizing_nation
            add_idea = westernisation_end
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 4 }
		set_variable = { ROOT.westornisation_background_frame = 4 }
    }
    set_variable = {
        var = ROOT.aotsm_westernisation_points_num
        value = 0
    }
}

down_westernisation_period = {
    if = {
        limit = {
            has_idea = westernisation_end
        }
        swap_ideas = {
            remove_idea = westernisation_end
            add_idea = westernizing_nation
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 3 }
		set_variable = { ROOT.westornisation_background_frame = 3 }
    }
    else_if = {
        limit = {
            has_idea = westernizing_nation
        }
        swap_ideas = {
            remove_idea = westernizing_nation
            add_idea = lagging_nation
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 2 }
		set_variable = { ROOT.westornisation_background_frame = 2 }
    }
    else_if = {
        limit = {
            has_idea = lagging_nation
        }
        swap_ideas = {
            remove_idea = lagging_nation
            add_idea = backward_nation
        }
        set_variable = { ROOT.progress_of_westornisation_frame = 1 }
		set_variable = { ROOT.westornisation_background_frame = 1 }
    }
    set_variable = {
        var = ROOT.aotsm_westernisation_points_num
        value = 51
    }
}

add_15_point_westernisation = {
    custom_effect_tooltip = add_15_point_westernisation_tt
    add_to_variable = { ROOT.aotsm_westernisation_points_num = 15 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

add_10_point_westernisation = {
    custom_effect_tooltip = add_10_point_westernisation_tt
    add_to_variable = { ROOT.aotsm_westernisation_points_num = 10 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

add_5_point_westernisation = {
    custom_effect_tooltip = add_5_point_westernisation_tt
    add_to_variable = { ROOT.aotsm_westernisation_points_num = 5 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

add_3_point_westernisation = {
    custom_effect_tooltip = add_3_point_westernisation_tt
    add_to_variable = { ROOT.aotsm_westernisation_points_num = 3 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

add_1_point_westernisation = {
    custom_effect_tooltip = add_1_point_westernisation_tt
    add_to_variable = { ROOT.aotsm_westernisation_points_num = 1 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

remove_15_point_westernisation = {
    custom_effect_tooltip = remove_15_point_westernisation_tt
    subtract_from_variable = { ROOT.aotsm_westernisation_points_num = 15 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

remove_10_point_westernisation = {
    custom_effect_tooltip = remove_10_point_westernisation_tt
    subtract_from_variable = { ROOT.aotsm_westernisation_points_num = 10 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

remove_5_point_westernisation = {
    custom_effect_tooltip = remove_5_point_westernisation_tt
    subtract_from_variable = { ROOT.aotsm_westernisation_points_num = 5 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

remove_3_point_westernisation = {
    custom_effect_tooltip = remove_3_point_westernisation_tt
    subtract_from_variable = { ROOT.aotsm_westernisation_points_num = 3 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}

remove_1_point_westernisation = {
    custom_effect_tooltip = remove_1_point_westernisation_tt
    subtract_from_variable = { ROOT.aotsm_westernisation_points_num = 1 }
    force_update_dynamic_modifier = yes
    clamp_westernisation_vars = yes
}