##WESTERNISATION_EVENTS
add_namespace = aotsm_westernisation_event

country_event = {
	id = aotsm_westernisation_event.1 #
	title = aotsm_westernisation_event.1.t
	desc = aotsm_westernisation_event.1.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		
	}
	
	option = {
		name = aotsm_westernisation_event.1.a # 
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_pru_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_pru = yes 
            }
		}
		
		hidden_effect = {
			PRU = {
                country_event = { id = aotsm_westernisation_event.4 days = 14 }
            }
		}
	}
	
	option = {
		name = aotsm_westernisation_event.1.b #
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_frr_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_frr = yes 
            }
		}
		
		hidden_effect = {
			FRR = {
                country_event = { id = aotsm_westernisation_event.4 days = 14 }
            }
		}
	}
	
	option = {
		name = aotsm_westernisation_event.1.c #
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_cbi_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_cbi = yes 
            }
		}
		
		hidden_effect = {
			CBI = {
                country_event = { id = aotsm_westernisation_event.4 days = 14 }
            }
		}
	}
	
	option = {
		name = aotsm_westernisation_event.1.e #
		ai_chance = {
			base = 5
		}
		
		hidden_effect = {
			country_event = aotsm_westernisation_event.2
		}
	}

}

country_event = {
	id = aotsm_westernisation_event.2 #
	title = aotsm_westernisation_event.2.t
	desc = aotsm_westernisation_event.2.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		
	}

	option = {
		name = aotsm_westernisation_event.2.a #
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_aus_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_aus = yes 
            }
		}
		
		hidden_effect = {
			AUS = {
                country_event = { id = aotsm_westernisation_event.4 days = 14 }
            }
		}
	}
	
	option = {
		name = aotsm_westernisation_event.2.b #
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_byz_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_byz = yes 
            }
		}
		
		hidden_effect = {
			BYZ = {
                country_event = { id = aotsm_westernisation_event.4 days = 14 }
            }
		}
	}
	
	option = {
		name = aotsm_westernisation_event.2.c #
        trigger = { 
            NOT = {
                has_country_flag = aotsm_w_rus_refuse_to_protection
            }
        }
		ai_chance = {
			base = 0
            modifier = {
                add = 300
                w_country_in_region_in_intersets_of_rus = yes 
            }
		}
		
		hidden_effect = {
			RUS = {
                country_event = aotsm_westernisation_event.4
            }
		}
	}
	
	option = { 
		name = aotsm_westernisation_event.2.e #
		ai_chance = {
			base = 5
		}
		
		hidden_effect = {
			country_event = aotsm_westernisation_event.3
		}
	}
}

country_event = {
	id = aotsm_westernisation_event.3 #
	title = aotsm_westernisation_event.3.t
	desc = aotsm_westernisation_event.3.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		
	}
	
	option = { #own_way
		name = aotsm_westernisation_event.3.a #
		ai_chance = {
			base = 10
		}
		add_stability = 0.025
		add_war_support = 0.025
		hidden_effect = {
			
		}
	}
    
	
	option = {
		name = aotsm_westernisation_event.3.b #
		ai_chance = {
			base = 5
		}
		
		hidden_effect = {
            country_event = aotsm_westernisation_event.1
		}
	}
	
}

country_event = {
	id = aotsm_westernisation_event.4 # Предложение о протекции
	title = aotsm_westernisation_event.4.t
	desc = aotsm_westernisation_event.4.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		
	}
	
	option = {
		name = aotsm_westernisation_event.4.a # согласие
		ai_chance = {
			base = 5
            modifier = {
                add = 300
                tag = PRU
                FROM = { w_country_in_region_in_intersets_of_pru = yes }
            } 
            modifier = {
                add = 300
                tag = FRR
                FROM = { w_country_in_region_in_intersets_of_frr = yes }
            } 
            modifier = {
                add = 300
                tag = CBI
                FROM = { w_country_in_region_in_intersets_of_cbi = yes }
            } 
            modifier = {
                add = 300
                tag = AUS
                FROM = { w_country_in_region_in_intersets_of_aus = yes }
            } 
            modifier = {
                add = 300
                tag = BYZ
                FROM = { w_country_in_region_in_intersets_of_byz = yes }
            } 
            modifier = {
                add = 300
                tag = RUS
                FROM = { w_country_in_region_in_intersets_of_rus = yes }
            }
		}
		FROM = {
            country_event = { id = aotsm_westernisation_event.5 days = 7 }
        }
		hidden_effect = {
			
		}
	}
	
	option = {
		name = aotsm_westernisation_event.4.b # отказ
		ai_chance = {
			base = 5
		}
		FROM = {
            country_event = { id = aotsm_westernisation_event.6 days = 7 }
        }
		hidden_effect = {
			
		}
	}
	
}

country_event = {
	id = aotsm_westernisation_event.5 #
	title = aotsm_westernisation_event.5.t
	desc = aotsm_westernisation_event.5.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.5"
	}
	
	option = {
		name = aotsm_westernisation_event.5.a # 
		ai_chance = {
			base = 5
		}
        w_check_who_is_protector_power = yes
        FROM = {
            add_opinion_modifier = {
				target = FROM
				modifier = w_get_help_in_westernisation
			}
        }
		hidden_effect = {

		}
	}
	
}

country_event = {
	id = aotsm_westernisation_event.6 #
	title = aotsm_westernisation_event.6.t
	desc = aotsm_westernisation_event.6.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.6"
	}
	
	option = {
		name = aotsm_westernisation_event.6.a # 
		ai_chance = {
			base = 5
		}
        w_check_who_is_refuse_to_protection = yes
        FROM = {
            add_opinion_modifier = {
				target = FROM
				modifier = w_refused_in_help_in_westernisation
			}
        }
		hidden_effect = {
            if = {
                limit = {
                    NOT = {
                        has_country_flag = w_great_power_refuse_in_help
                    }
                }
                set_country_flag = w_great_power_refuse_in_help
			    country_event = { id = aotsm_westernisation_event.1 days = 7 }
            }
		}
	}
	
}

country_event = {
	id = aotsm_westernisation_event.7 #
	title = aotsm_westernisation_event.7.t
	desc = aotsm_westernisation_event.7.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.7"
	}
	
	option = {
		name = aotsm_westernisation_event.7.a # 
		ai_chance = {
			base = 5
		}
        add_political_power = 25
	}
	
}

country_event = {
	id = aotsm_westernisation_event.8 #
	title = aotsm_westernisation_event.8.t
	desc = aotsm_westernisation_event.8.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.8"
	}
	
	option = {
		name = aotsm_westernisation_event.8.a # 
		ai_chance = {
			base = 5
		}
        add_manpower = 2500
	}
	
}

#RANDOM_WESTERNISATION_EVENTS

country_event = {
	id = aotsm_westernisation_event.9 #
	title = aotsm_westernisation_event.9.t
	desc = aotsm_westernisation_event.9.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.9"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 1
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.9.a # 
		ai_chance = {
			base = 5
		}
        add_stability = -0.025
        remove_3_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.10 #
	title = aotsm_westernisation_event.10.t
	desc = aotsm_westernisation_event.10.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.10"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 2
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.10.a # 
		ai_chance = {
			base = 5
		}
        add_stability = -0.025
        remove_1_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.11 #
	title = aotsm_westernisation_event.11.t
	desc = aotsm_westernisation_event.11.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.11"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 3
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.11.a # 
		ai_chance = {
			base = 5
		}
        add_stability = -0.01
        remove_1_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.12 #
	title = aotsm_westernisation_event.12.t
	desc = aotsm_westernisation_event.12.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.12"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 4
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.12.a # 
		ai_chance = {
			base = 5
		}
        add_stability = 0.025
        add_3_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.13 #
	title = aotsm_westernisation_event.13.t
	desc = aotsm_westernisation_event.13.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.13"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 5
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.13.a # 
		ai_chance = {
			base = 5
		}
        army_experience = 10
        add_1_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.14 #
	title = aotsm_westernisation_event.14.t
	desc = aotsm_westernisation_event.14.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.14"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 6
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.14.a # 
		ai_chance = {
			base = 5
		}
        add_stability = 0.025
        add_1_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.15 #
	title = aotsm_westernisation_event.15.t
	desc = aotsm_westernisation_event.15.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.15"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 7
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.15.a # 
		ai_chance = {
			base = 5
		}
        add_stability = -0.01
        remove_1_point_westernisation = yes
	}
	
}

country_event = {
	id = aotsm_westernisation_event.16 #
	title = aotsm_westernisation_event.16.t
	desc = aotsm_westernisation_event.16.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.16"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 8
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.16.a # 
		ai_chance = {
			base = 5
		}
        add_stability = -0.01
        remove_1_point_westernisation = yes
        
	}
	
}

country_event = {
	id = aotsm_westernisation_event.17 #
	title = aotsm_westernisation_event.17.t
	desc = aotsm_westernisation_event.17.d
	picture = GFX_report_event_age_of_steam_mashines
	
	is_triggered_only = yes
	
	fire_only_once = no
	
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event aotsm_westernisation_event.17"
        hidden_effect = {
            set_variable = {
                w_last_event_num = 9
            }
        }
	}
	
	option = {
		name = aotsm_westernisation_event.17.a # 
		ai_chance = {
			base = 5
		}
        add_stability = 0.025
        random_list = {
			50 = {  
				random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			50 = {
				random_owned_controlled_state = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
            50 = {
                random_owned_controlled_state = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
            }
		}
        add_3_point_westernisation = yes
	}
	
}