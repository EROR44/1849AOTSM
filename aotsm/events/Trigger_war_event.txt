####################
# Triger war event #
#   by Derkyster   #
####################

add_namespace = twe

country_event = {
	id = twe.1
	title = twe.1.t
	desc = twe.1.d
	picture = GFX_report_event_molotov_signing_pact
	
	fire_only_once = yes
	
	trigger = {
		tag = BYZ
		RUM = {
			surrender_progress > 0.70
		}
		RUM = { has_country_flag = RUM_vs_BYZ }
	}
	
	option = {
		name = twe.1.a
		KLK = {
			transfer_state = 348
		}
		ARM = {
			transfer_state = 349
			annex_country = { 
				target = AZR transfer_troops = no 
			}
			country_event = { id = arm.1 days = 1 }		
		}
		BYZ = { 
			annex_country = { 
				target = RUM transfer_troops = no 
			} 
		}
		RUM = { clr_country_flag = RUM_vs_BYZ }
	}
}

country_event = {
	id = twe.3
	title = twe.3.t
	desc = twe.3.d
	picture = GFX_report_event_molotov_signing_pact
	
	fire_only_once = yes
	
	trigger = {
		tag = PRU
		AUS = {
			surrender_progress > 0.40
		}
		PRU = { has_country_flag = PRU_vs_AUS_1 }
	}
	option = {
		name = twe.3.a
		hidden_effect = {
			PRU = { set_country_flag = victory_R_V_A_1 }
			PRU = { clr_country_flag = PRU_vs_AUS_1 }
			PRU = { remove_ideas = pru_blitzkrieg }
			PRU = {
				annex_country = { target = MCL transfer_troops = yes }
				annex_country = { target = SLG transfer_troops = yes }
				annex_country = { target = HAN transfer_troops = yes }
				annex_country = { target = VES transfer_troops = yes }
				annex_country = { target = FRN transfer_troops = yes }
				annex_country = { target = TYR transfer_troops = yes }
				annex_country = { target = SAK transfer_troops = yes }
			}
			MCL = {
				remove_state_core = 62
				remove_state_core = 61
			}
			SLG = {
				remove_state_core = 58
				remove_state_core = 829
			}
			HAN = {
				remove_state_core = 59
			}
			VES = {
				remove_state_core = 56
			}
			TYR = {
				remove_state_core = 60
			}
			SAK = { 
				remove_state_core = 65
			}
			FRN = {
				remove_state_core = 57
				remove_state_core = 51
				remove_state_core = 55
				remove_state_core = 42
				remove_state_core = 28
			}
			PRU = { set_cosmetic_tag = PRUNGU }
			remove_from_faction = PRU
			remove_from_faction = AUS
			remove_from_faction = BAD
			remove_from_faction = VUR
			remove_from_faction = BAV
			remove_from_faction = MCL
			remove_from_faction = SLG
			remove_from_faction = HAN
			remove_from_faction = VES
			remove_from_faction = FRN
			remove_from_faction = TYR
			remove_from_faction = SAK
			PRU = { white_peace = AUS }
			PRU = { white_peace = BAD }
			PRU = { white_peace = BAV }
			PRU = { white_peace = VUR }
		}
	}
}

country_event = {
	id = twe.4
	title = twe.4.t
	desc = twe.4.d
	picture = GFX_report_event_molotov_signing_pact
	
	fire_only_once = yes
	
	trigger = {
		tag = PRU
		BEL = {
			surrender_progress > 0.20
		}
		PRU = { has_country_flag = P_V_B }
	}
	option = {
		name = twe.4.a
		hidden_effect = {
			PRU = { clr_country_flag = P_V_B }
			PRU = { white_peace = BEL }
			PRU = { puppet = BEL }
			BEL = { remove_state_core = 8 }
			PRU = { add_state_core = 8 }
			PRU = { transfer_state = 8 }
		}
	}
}

country_event = {
	id = twe.5
	title = twe.5.t
	desc = twe.5.d
	picture = GFX_report_event_molotov_signing_pact
	
	fire_only_once = yes
	
	trigger = {
		tag = PRU
		HOL = {
			surrender_progress > 0.20
		}
		PRU = { has_country_flag = P_V_H }
	}
	option = {
		name = twe.5.a
		hidden_effect = {
			PRU = { clr_country_flag = P_V_H }
			PRU = { white_peace = HOL }
			PRU = { white_peace = IND }
			PRU = { puppet = HOL }
			HOL = { puppet = IND }
		}
	}
}

country_event = {
	id = twe.6
	title = twe.6.t
	desc = twe.6.d
	picture = GFX_report_event_molotov_signing_pact
	
	fire_only_once = yes
	
	trigger = {
		tag = PRU
		AUS = {
			surrender_progress > 0.40
		}
		PRU = { has_country_flag = PRU_vs_AUS_2 }
	}
	option = {
		name = twe.6.a
		hidden_effect = {
			PRU = { set_country_flag = victory_R_V_A_2 }
			PRU = { clr_country_flag = PRU_vs_AUS_2 }
			PRU = {
				annex_country = { target = BAD transfer_troops = yes }
				annex_country = { target = BAV transfer_troops = yes }
				annex_country = { target = VUR transfer_troops = yes }
			}
			BAD = {
				remove_state_core = 828
				remove_state_core = 50
			}
			VUR = {
				remove_state_core = 808
			}
			BAV = {
				remove_state_core = 54
				remove_state_core = 53
				remove_state_core = 52
			}
			PRU = { set_country_flag = victory_R_V_A_2 }
			remove_from_faction = AUS
			remove_from_faction = BAD
			remove_from_faction = VUR
			remove_from_faction = BAV
			PRU = { white_peace = AUS }
		}
	}
}