#################
# Japan Event   #
# by Derkyster  #
#################

add_namespace = jap

country_event = {
	id = jap.1
	title = jap.1.t
	desc = jap.1.d
	picture = GFX_report_event_molotov_signing_pact
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	hidden =  yes

	option = {
		name = jap.1.a
		JAP = {
			set_autonomy = {
				target = NIS
				autonomy_state = autonomy_free
				end_wars = no
				end_civil_wars = no
			}
		}
		JAP = {
			set_autonomy = {
				target = TUK
				autonomy_state = autonomy_free
				end_wars = no
				end_civil_wars = no
			}
		}
		JAP = {
			set_autonomy = {
				target = JAS
				autonomy_state = autonomy_free
				end_wars = no
				end_civil_wars = no
			}
		}
		remove_from_faction = NIS
		remove_from_faction = TUK
		remove_from_faction = JAS
		remove_from_faction = JAP
		JAP = { dismantle_faction = yes }
		JAP = { country_event = { id = jap.2 days = 30 } }
		TUK = {
			add_ideas = japan_civil_war
		}
		JAP = {
			add_ideas = japan_civil_war
		}
		JAS = {
			add_ideas = japan_civil_war
		}
	}
	
}

country_event = {
	id = jap.2
	title = jap.2.t
	desc = jap.2.d
	picture = GFX_report_event_japanese_transport_soldiers
	
	is_triggered_only = yes
	
	fire_only_once = yes
	
	option = {
		name = jap.2.a
		JAS = { 
			declare_war_on = {
				target = JAP
				type = annex_everything
			}
		}
		JAP = { set_country_flag = war_for_japan }
	}
	
}

country_event = {
	id = jap.4
	title = jap.4.t
	desc = jap.4.d
	picture = GFX_report_event_japanese_transport_soldiers
	
	trigger = {
		JAP = {
			has_country_flag = {
				flag = war_for_japan
				days > 60
			}
		}
	}
	
	mean_time_to_happen = {
		days = 60
	}
	
	fire_only_once = yes
	
	option = {
		name = jap.4.a
		JAP = { clr_country_flag = war_for_japan }
		JAP = { set_country_flag = all_japan_war }
		TUK = {
			declare_war_on = {
				target = JAP
				type = annex_everything
			}
		}
		TUK = {
			declare_war_on = {
				target = JAS
				type = annex_everything
			}
		}
	}
	
}


country_event = { #JAP victory
	id = jap.5
	title = jap.5.t
	desc = jap.5.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		tag = JAP
		NOT = {
			OR = {
				JAP = {
					has_war_with = JAS
				}
				JAP = {
					has_war_with = TUK
				}
			}
		}
		NOT = {
			country_exists = JAS
			country_exists = TUK
		}
		JAP = {
			has_country_flag = all_japan_war
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = jap.5.a
		JAP = { clr_country_flag = all_japan_war }
		JAP = {
			set_autonomy = {
				target = NIS
			autonomous_state = autonomy_aotsm_trade_company
			}
		}
		JAP = {
			create_faction = JAP_EMPERIA
			add_to_faction = JAP
			add_to_faction = NIS
			set_cosmetic_tag = JAPFULL
		}
	}
	
}

country_event = { #JAS victory
	id = jap.6
	title = jap.6.t
	desc = jap.6.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		tag = JAS
		NOT = {
			OR = {
				JAS = {
					has_war_with = JAP
				}
				JAS = {
					has_war_with = TUK
				}
			}
		}
		NOT = {
			country_exists = JAP
			country_exists = TUK
		}
		JAP = {
			has_country_flag = all_japan_war
		}
	}
	
	fire_only_once = yes
	
	option = {
		name = jap.6.a
		JAP = { clr_country_flag = all_japan_war }
		JAS = {
			set_autonomy = {
				target = NIS
			autonomous_state = autonomy_aotsm_trade_company
			}
		}
		JAS = {
			create_faction = JAP_EMPERIA
			add_to_faction = JAS
			add_to_faction = NIS
			set_cosmetic_tag = JAPFULL
		}
	}
	
}

country_event = { #TUK victory
	id = jap.7
	title = jap.7.t
	desc = jap.7.d
	picture = GFX_report_event_generic_read_write
	
	trigger = {
		tag = TUK
		NOT = {
			OR = {
				TUK = {
					has_war_with = JAP
				}
				TUK = {
					has_war_with = JAS
				}
			}
		}
		NOT = {
			country_exists = JAP
			country_exists = JAS
		}
		JAP = {
			has_country_flag = all_japan_war
		}
	}

	fire_only_once = yes
	
	option = {
		name = jap.7.a
		JAP = { clr_country_flag = all_japan_war }
		TUK = {
			set_autonomy = {
				target = NIS
			autonomous_state = autonomy_aotsm_trade_company
			}
		}
		TUK = {
			create_faction = JAP_EMPERIA
			add_to_faction = TUK
			add_to_faction = NIS
			set_cosmetic_tag = JAPFULL
		}
	}
	
}